(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{51:function(e,t,i){},97:function(e,t,i){},98:function(e,t,i){},99:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i(41),s=i.n(a),c=(i(51),i(33)),r=i(15),o=i.n(r),u=i(16),j=i(12),l=i(100),b=i(105),p=i(106),d=i(101),h=i(104),O=i(9),x="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMDdUMjE6MjY6MTIrMDA6MDAifQ.eyJ1c2VyX2lkIjoiNDA2MjI1Iiwic2NvcGUiOiJhZG1pbjphbGwiLCJ1dWlkIjoiZTdkZWRkNWMtYjljNy00ODgxLTljOTctNjYwMzJhN2Q2Yjc5Iiwib3JnYW5pemF0aW9uX2lkIjoiNjYyNTQiLCJleHBpcmVzX2F0IjoiMjAyMS0xMC0xOFQwNzowNToyNFoiLCJleHAiOjE2MzQ1NDA3MjQsInN1YiI6ImFzcGVyYWRlbW9AbWFpbGluYXRvci5jb20iLCJuYW1lIjoiYWlzaHdhcnlhIHAiLCJnaXZlbl9uYW1lIjoiYWlzaHdhcnlhIiwiZmFtaWx5X25hbWUiOiJwIiwiYXVkIjoiSjYybzlsM1hQQSIsImlhdCI6MTYzNDUzNzEyNCwiaXNzIjoiaHR0cHM6Ly9hcGkuaWJtYXNwZXJhLmNvbS9hcGkvdjEvb2F1dGgyL3Rva2VuIiwiaWJtaWRfaWQiOiJJQk1pZC02NjEwMDJBQjdJIiwiaWQiOiJhb2MtNDA2MjI1IiwicmVhbG1pZCI6ImFvYy1pYm1pZCIsImlkZW50aWZpZXIiOiI0MDYyMjUiLCJzcnNfZW5hYmxlZCI6ZmFsc2UsIm9yZ19hcHBzIjpbImZpbGVzIiwicGFja2FnZXMiLCJhY3Rpdml0eSIsImF1dG9tYXRpb24iXX0.Be6eKCFFkgC2bs_zF67n1f9b2ft_N_HZFXMsNBoy_nSY2Q5fZ9_7_82aceelLPDTfDCfwKVL_732PGmfiBpJlIc3VKT-US4iisklGXtKE-ZTh5mTVy08j0IQUmKuglqX-qh81K1FYsjKg75ueYKSMJYhUprqOYHsBi6WiXrsqMm9SfZ6cBtphX_hONVVmiiwkAkO5ju3Aa8nW_aHIgOrdNrE5E9J2fg0M5KNU_I6_Z-MCYR7YdBjV69I9HRnzu1QJxTsuUHrIVvd7LHuIPObZu_uZYBdxVqc4XGgd6uFl3aZ0vyp97Zkja0a2hyCxqNI_AYreahGEAGS4KgE1x_7rg";var f=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),i=t[0],a=t[1],s=Object(n.useState)(""),c=Object(j.a)(s,2),r=c[0],f=c[1],m=Object(n.useState)(!1),I=Object(j.a)(m,2),v=I[0],C=I[1],k=Object(n.useState)(!1),N=Object(j.a)(k,2),y=N[0],w=N[1],M=Object(n.useState)(!1),W=Object(j.a)(M,2),g=W[0],Y=W[1],J=Object(n.useState)(!1),S=Object(j.a)(J,2),Z=S[0],z=S[1],A=Object(n.useState)(!1),X=Object(j.a)(A,2),D=X[0],F=X[1],T=Object(n.useState)(!1),E=Object(j.a)(T,2),L=E[0],G=E[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(l.a,{onSubmit:function(e){(e.preventDefault(),C(!0),i&&""!==i.trim())?(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,s,c,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:x},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/nodes",{headers:t});case 5:return n=e.sent,e.next=8,n.json();case 8:return a=e.sent,s=a[0].id,c={name:i,description:r,node_id:s},t={accept:"application/json","content-type":"application/json",Authorization:x},e.next=14,fetch("https://api.ibmaspera.com/api/v1/admin/workspaces",{method:"POST",body:JSON.stringify(c),json:!0,headers:t});case 14:return n=e.sent,e.next=17,n.json();case 17:return a=e.sent,e.next=20,n;case 20:204===(u=e.sent).status||202===u.status?(w(!0),C(!1)):401===u.status?(Y(!0),C(!1)):(F(!0),C(!1)),e.next=31;break;case 24:return e.next=26,fetch("/addworkspace?wname="+i+"&wdesc="+r);case 26:return j=e.sent,e.next=29,j.json();case 29:"success"===e.sent.result?(w(!0),C(!1)):(F(!0),C(!1));case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(0),z(!0),C(!1);case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(){return e.apply(this,arguments)}}()(),a(""),f("")):(G(!0),C(!1))},children:[Object(O.jsx)(b.a,{type:"text",id:"wname",labelText:"Workspace Name*",placeholder:"Workspace Name",size:"lg",value:i,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(b.a,{type:"text",id:"wdesc",labelText:"Workspace Description",placeholder:"Workspace Description",size:"lg",value:r,onChange:function(e){return f(e.target.value)}}),Object(O.jsx)("div",{className:"ButtonArea",children:Object(O.jsx)(p.a,{type:"submit",children:" Create Workspace "})})]}),Object(O.jsx)(d.a,{active:v,description:"Active loading indicator",withOverlay:!0}),y&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Workspace created successfully"}),timeout:4e3,onClose:function(){w(!1)},kind:"success",title:"Success Notification"}),g&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Unauthorised credentials. Restart to refresh your tokens"}),timeout:3e3,onClose:function(){Y(!1)},title:"Error Notification"}),Z&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){z(!1)},title:"Error Notification"}),D&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Workspace creation failed"}),timeout:3e3,onClose:function(){F(!1)},title:"Error Notification"}),L&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Invalid input. Specify workspace name"}),timeout:3e3,onClose:function(){G(!1)},title:"Error Notification"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})},m=i(102),I=i(103),v="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMDdUMjE6MjY6MTIrMDA6MDAifQ.eyJ1c2VyX2lkIjoiNDA2MjI1Iiwic2NvcGUiOiJhZG1pbjphbGwiLCJ1dWlkIjoiZTdkZWRkNWMtYjljNy00ODgxLTljOTctNjYwMzJhN2Q2Yjc5Iiwib3JnYW5pemF0aW9uX2lkIjoiNjYyNTQiLCJleHBpcmVzX2F0IjoiMjAyMS0xMC0xOFQwNzowNToyNFoiLCJleHAiOjE2MzQ1NDA3MjQsInN1YiI6ImFzcGVyYWRlbW9AbWFpbGluYXRvci5jb20iLCJuYW1lIjoiYWlzaHdhcnlhIHAiLCJnaXZlbl9uYW1lIjoiYWlzaHdhcnlhIiwiZmFtaWx5X25hbWUiOiJwIiwiYXVkIjoiSjYybzlsM1hQQSIsImlhdCI6MTYzNDUzNzEyNCwiaXNzIjoiaHR0cHM6Ly9hcGkuaWJtYXNwZXJhLmNvbS9hcGkvdjEvb2F1dGgyL3Rva2VuIiwiaWJtaWRfaWQiOiJJQk1pZC02NjEwMDJBQjdJIiwiaWQiOiJhb2MtNDA2MjI1IiwicmVhbG1pZCI6ImFvYy1pYm1pZCIsImlkZW50aWZpZXIiOiI0MDYyMjUiLCJzcnNfZW5hYmxlZCI6ZmFsc2UsIm9yZ19hcHBzIjpbImZpbGVzIiwicGFja2FnZXMiLCJhY3Rpdml0eSIsImF1dG9tYXRpb24iXX0.Be6eKCFFkgC2bs_zF67n1f9b2ft_N_HZFXMsNBoy_nSY2Q5fZ9_7_82aceelLPDTfDCfwKVL_732PGmfiBpJlIc3VKT-US4iisklGXtKE-ZTh5mTVy08j0IQUmKuglqX-qh81K1FYsjKg75ueYKSMJYhUprqOYHsBi6WiXrsqMm9SfZ6cBtphX_hONVVmiiwkAkO5ju3Aa8nW_aHIgOrdNrE5E9J2fg0M5KNU_I6_Z-MCYR7YdBjV69I9HRnzu1QJxTsuUHrIVvd7LHuIPObZu_uZYBdxVqc4XGgd6uFl3aZ0vyp97Zkja0a2hyCxqNI_AYreahGEAGS4KgE1x_7rg";var C=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),i=t[0],a=t[1],s=Object(n.useState)(""),c=Object(j.a)(s,2),r=c[0],x=c[1],f=Object(n.useState)(""),C=Object(j.a)(f,2),k=C[0],N=C[1],y=Object(n.useState)(!1),w=Object(j.a)(y,2),M=w[0],W=w[1],g=Object(n.useState)("A valid email is required"),Y=Object(j.a)(g,2),J=Y[0],S=Y[1],Z=Object(n.useState)(!1),z=Object(j.a)(Z,2),A=z[0],X=z[1],D=Object(n.useState)([]),F=Object(j.a)(D,2),T=F[0],E=F[1],L=Object(n.useState)([]),G=Object(j.a)(L,2),V=G[0],Q=G[1],U=Object(n.useState)(!1),_=Object(j.a)(U,2),B=_[0],H=_[1],R=Object(n.useState)(!1),K=Object(j.a)(R,2),q=K[0],P=K[1],$=Object(n.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ie=ee[1],ne=Object(n.useState)(!1),ae=Object(j.a)(ne,2),se=ae[0],ce=ae[1],re=Object(n.useState)(!1),oe=Object(j.a)(re,2),ue=oe[0],je=oe[1],le=Object(n.useState)(!1),be=Object(j.a)(le,2),pe=be[0],de=be[1],he=Object(n.useState)(!1),Oe=Object(j.a)(he,2),xe=Oe[0],fe=Oe[1],me=Object(n.useState)(!1),Ie=Object(j.a)(me,2),ve=Ie[0],Ce=Ie[1],ke=Object(n.useState)(!1),Ne=Object(j.a)(ke,2),ye=Ne[0],we=Ne[1],Me=Object(n.useState)(!1),We=Object(j.a)(Me,2),ge=We[0],Ye=We[1],Je=Object(n.useState)(!1),Se=Object(j.a)(Je,2),Ze=Se[0],ze=Se[1],Ae=Object(n.useState)(!1),Xe=Object(j.a)(Ae,2),De=Xe[0],Fe=Xe[1],Te=[{id:!0,value:"Member"},{id:!1,value:"Workspace Manager"}],Ee=Object(n.useState)(Te[0].id),Le=Object(j.a)(Ee,2),Ge=Le[0],Ve=Le[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(l.a,{onSubmit:function(e){(e.preventDefault(),H(!0),i)?(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={"content-type":"application/json",accept:"application/json",Authorization:v},n={email:i,auth_provider_id:null},e.next=6,fetch("https://api.ibmaspera.com/api/v1/admin/users",{method:"POST",body:JSON.stringify(n),json:!0,headers:t});case 6:return a=e.sent,e.next=9,a;case 9:201===(s=e.sent).status?(P(!0),H(!1)):401===s.status?(je(!0),H(!1)):(Ce(!0),H(!1)),e.next=20;break;case 13:return e.next=15,fetch("/adduser?useremail="+i);case 15:return c=e.sent,e.next=18,c.json();case 18:"success"===e.sent.result?(P(!0),H(!1)):(Ce(!0),H(!1));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),de(!0),H(!1);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}()(),a("")):(fe(!0),H(!1))},children:[Object(O.jsx)(b.a,{type:"text",id:"email",invalid:M,invalidText:J,labelText:"Email*",placeholder:"Email",size:"lg",value:i,onChange:function(e){e.target.value.match(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/)?(W(!1),X(!1)):(W(!0),S("Valid Email format required"),X(!0)),a(e.target.value)}}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",disabled:A,children:" Add User "})})]}),Object(O.jsx)(m.a,{labelText:"Workspace*",size:"lg",value:k,onChange:function(e){N(e.target.value)},children:T.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.value},t)}))}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",onClick:function(){H(!0),function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s,c,r,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:v},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/workspaces",{headers:t});case 5:return i=e.sent,e.next=8,i.json();case 8:return n=e.sent,e.next=11,i;case 11:if(200===(a=e.sent).status){for(s=[{id:"",value:"Choose Workspace"}],c=0;c<n.length;c++)(r={}).id=n[c].id,r.value=n[c].name,s.push(r);E(s),H(!1)}else 401===a.status?(je(!0),H(!1)):(we(!0),H(!1));e.next=22;break;case 15:return e.next=17,fetch("/getworkspace");case 17:return u=e.sent,e.next=20,u.json();case 20:"failure"===(j=e.sent).result?(we(!0),H(!1)):(E(j.result),H(!1));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),de(!0),H(!1);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}()()},children:" List Workspaces "})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:" User Permissions "}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{labelText:"Permission Type*",size:"lg",value:Ge,onChange:function(e){return Ve(e.target.value)},children:Te.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.value},t)}))}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{labelText:"User*",size:"lg",value:r,onChange:function(e){x(e.target.value)},children:V.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.value},t)}))}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",onClick:function(){H(!0),function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s,c,r,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:v},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/users",{headers:t});case 5:return i=e.sent,e.next=8,i.json();case 8:return n=e.sent,e.next=11,i;case 11:if(200===(a=e.sent).status){for(s=[{id:"",value:"Choose User"}],c=0;c<n.length;c++)(r={}).id=n[c].id,r.value=n[c].email,s.push(r);Q(s),H(!1)}else 401===a.status?(je(!0),H(!1)):(we(!0),H(!1));e.next=22;break;case 15:return e.next=17,fetch("/getusers");case 17:return u=e.sent,e.next=20,u.json();case 20:"failure"===(j=e.sent).result?(we(!0),H(!1)):(Q(j.result),H(!1));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),H(!1),de(!0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}()()},children:" List Users "})}),Object(O.jsx)(d.a,{active:B,description:"Active loading indicator",withOverlay:!0}),Object(O.jsxs)("div",{className:"ButtonArea",children:[Object(O.jsx)(p.a,{kind:"secondary",type:"submit",onClick:function(){(H(!0),r)?function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:v},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/users/".concat(r),{method:"DELETE",headers:t});case 5:return i=e.sent,e.next=8,i;case 8:204===(n=e.sent).status?ie(!0):401===n.status?(je(!0),H(!1)):Ye(!0),Q([]),H(!1),e.next=23;break;case 14:return e.next=16,fetch("/deluser?userid="+r);case 16:return a=e.sent,e.next=19,a.json();case 19:"success"===e.sent.result?ie(!0):Ye(!0),Q([]),H(!1);case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(0),de(!0),H(!1);case 29:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}()():(fe(!0),H(!1))},children:" Delete Existing User "}),Object(O.jsx)(p.a,{type:"submit",onClick:function(){(H(!0),r&&k)?function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={can_invite_by_email:!1,manager:Ge,member_id:r,member_type:"user",storage_allowed:!1,workspace_id:k},i={"content-type":"application/json",accept:"application/json",Authorization:v},e.next=6,fetch("https://api.ibmaspera.com/api/v1/admin/workspace_memberships",{method:"POST",body:JSON.stringify(t),json:!0,headers:i});case 6:return n=e.sent,e.next=9,n;case 9:202===(a=e.sent).status||204===a.status?(ce(!0),x(""),N(""),Q([]),E([]),H(!1)):401===a.status?(je(!0),H(!1)):(ze(!0),x(""),N(""),Q([]),E([]),H(!1)),e.next=20;break;case 13:return e.next=15,fetch("/addmember?wid="+k+"&userperms="+Ge+"&userid="+r);case 15:return s=e.sent,e.next=18,s.json();case 18:"success"===e.sent.result?(ce(!0),x(""),N(""),Q([]),E([]),H(!1)):(ze(!0),x(""),N(""),Q([]),E([]),H(!1));case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(0),de(!0),H(!1);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}()():(Fe(!0),H(!1))},children:" Create Membership "})]}),q&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"User added successfully"}),timeout:4e3,onClose:function(){P(!1)},kind:"success",title:"Success Notification"}),te&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"User deleted successfully"}),timeout:4e3,onClose:function(){ie(!1)},kind:"success",title:"Success Notification"}),se&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Membership created successfully"}),timeout:4e3,onClose:function(){ce(!1)},kind:"success",title:"Success Notification"}),ue&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Unauthorised credentials. Restart to refresh your tokens"}),timeout:3e3,onClose:function(){je(!1)},title:"Error Notification"}),pe&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){de(!1)},title:"Error Notification"}),xe&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Invalid input provided. Specify user to be added"}),timeout:3e3,onClose:function(){fe(!1)},title:"Error Notification"}),ve&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"User could not be added"}),timeout:3e3,onClose:function(){Ce(!1)},title:"Error Notification"}),ye&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Operation cannot be done"}),timeout:3e3,onClose:function(){we(!1)},title:"Error Notification"}),ge&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"User could not be deleted"}),timeout:3e3,onClose:function(){Ye(!1)},title:"Error Notification"}),Ze&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Membership could not be created"}),timeout:3e3,onClose:function(){ze(!1)},title:"Error Notification"}),De&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Invalid inputs provided. Specify user, workspace and permission type"}),timeout:3e3,onClose:function(){Fe(!1)},title:"Error Notification"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]})},k="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMDdUMjE6MjY6MTIrMDA6MDAifQ.eyJ1c2VyX2lkIjoiNDA2MjI1Iiwic2NvcGUiOiJhZG1pbjphbGwiLCJ1dWlkIjoiZTdkZWRkNWMtYjljNy00ODgxLTljOTctNjYwMzJhN2Q2Yjc5Iiwib3JnYW5pemF0aW9uX2lkIjoiNjYyNTQiLCJleHBpcmVzX2F0IjoiMjAyMS0xMC0xOFQwNzowNToyNFoiLCJleHAiOjE2MzQ1NDA3MjQsInN1YiI6ImFzcGVyYWRlbW9AbWFpbGluYXRvci5jb20iLCJuYW1lIjoiYWlzaHdhcnlhIHAiLCJnaXZlbl9uYW1lIjoiYWlzaHdhcnlhIiwiZmFtaWx5X25hbWUiOiJwIiwiYXVkIjoiSjYybzlsM1hQQSIsImlhdCI6MTYzNDUzNzEyNCwiaXNzIjoiaHR0cHM6Ly9hcGkuaWJtYXNwZXJhLmNvbS9hcGkvdjEvb2F1dGgyL3Rva2VuIiwiaWJtaWRfaWQiOiJJQk1pZC02NjEwMDJBQjdJIiwiaWQiOiJhb2MtNDA2MjI1IiwicmVhbG1pZCI6ImFvYy1pYm1pZCIsImlkZW50aWZpZXIiOiI0MDYyMjUiLCJzcnNfZW5hYmxlZCI6ZmFsc2UsIm9yZ19hcHBzIjpbImZpbGVzIiwicGFja2FnZXMiLCJhY3Rpdml0eSIsImF1dG9tYXRpb24iXX0.Be6eKCFFkgC2bs_zF67n1f9b2ft_N_HZFXMsNBoy_nSY2Q5fZ9_7_82aceelLPDTfDCfwKVL_732PGmfiBpJlIc3VKT-US4iisklGXtKE-ZTh5mTVy08j0IQUmKuglqX-qh81K1FYsjKg75ueYKSMJYhUprqOYHsBi6WiXrsqMm9SfZ6cBtphX_hONVVmiiwkAkO5ju3Aa8nW_aHIgOrdNrE5E9J2fg0M5KNU_I6_Z-MCYR7YdBjV69I9HRnzu1QJxTsuUHrIVvd7LHuIPObZu_uZYBdxVqc4XGgd6uFl3aZ0vyp97Zkja0a2hyCxqNI_AYreahGEAGS4KgE1x_7rg",N="Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IjIwMTgtMDYtMDdUMjE6MjY6MTIrMDA6MDAifQ.eyJ1c2VyX2lkIjoiNDA2MjI1Iiwic2NvcGUiOiJ1c2VyOmFsbCIsInV1aWQiOiIyYjFjODQ4ZS0xMzE5LTQzNTEtYWQxOS1iMjdjMTVmZDRiZGUiLCJvcmdhbml6YXRpb25faWQiOiI2NjI1NCIsImV4cGlyZXNfYXQiOiIyMDIxLTEwLTE4VDA3OjA1OjIyWiIsImV4cCI6MTYzNDU0MDcyMiwic3ViIjoiYXNwZXJhZGVtb0BtYWlsaW5hdG9yLmNvbSIsIm5hbWUiOiJhaXNod2FyeWEgcCIsImdpdmVuX25hbWUiOiJhaXNod2FyeWEiLCJmYW1pbHlfbmFtZSI6InAiLCJhdWQiOiJKNjJvOWwzWFBBIiwiaWF0IjoxNjM0NTM3MTIyLCJpc3MiOiJodHRwczovL2FwaS5pYm1hc3BlcmEuY29tL2FwaS92MS9vYXV0aDIvdG9rZW4iLCJpYm1pZF9pZCI6IklCTWlkLTY2MTAwMkFCN0kiLCJpZCI6ImFvYy00MDYyMjUiLCJyZWFsbWlkIjoiYW9jLWlibWlkIiwiaWRlbnRpZmllciI6IjQwNjIyNSIsInNyc19lbmFibGVkIjpmYWxzZSwiZ3JvdXBfaWRzIjpbIjIxNzAxOCJdLCJvcmdfYXBwcyI6WyJmaWxlcyIsInBhY2thZ2VzIiwiYWN0aXZpdHkiLCJhdXRvbWF0aW9uIl19.hFekgDOXQlnEG0BWyIO57W5NVeqmohGj6JbaARssGy-nCkGzVFIwTxqce6-vLQcKqEBNxxjuU_n2BCRV3uleILQUAa5L62Gqed3qlmsnO8l2gT6pUCQzQykwDdlUOQ66rS6u6n-1WZLNcJ5AIGTpK7VxA28afWqFdx2-C11sXU6r-o9BIzwa-mkYlL8f73u4OoMDIBuT0_iIaDW733oknCSba9b8_9bgpW1GJvWMV5LI2nFIweWWQHrf-dfdhxFCbgfh8E32dQ65FhJ4Q2btzcfiqImRXjpj8aEI3Nd9OGkD6lwZUbT3_Ej-_ZvKX4xw13a0dmZcb73xN9HUcHxDsQ";var y=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),i=t[0],a=t[1],s=Object(n.useState)(""),c=Object(j.a)(s,2),r=c[0],l=c[1],x=Object(n.useState)(""),f=Object(j.a)(x,2),v=f[0],C=f[1],y=Object(n.useState)(""),w=Object(j.a)(y,2),M=w[0],W=w[1],g=Object(n.useState)([]),Y=Object(j.a)(g,2),J=Y[0],S=Y[1],Z=Object(n.useState)([]),z=Object(j.a)(Z,2),A=z[0],X=z[1],D=Object(n.useState)([]),F=Object(j.a)(D,2),T=F[0],E=F[1],L=Object(n.useState)(!1),G=Object(j.a)(L,2),V=G[0],Q=G[1],U=Object(n.useState)(!1),_=Object(j.a)(U,2),B=_[0],H=_[1],R=Object(n.useState)(!1),K=Object(j.a)(R,2),q=K[0],P=K[1],$=Object(n.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ie=ee[1],ne=Object(n.useState)(!1),ae=Object(j.a)(ne,2),se=ae[0],ce=ae[1],re=Object(n.useState)(!1),oe=Object(j.a)(re,2),ue=oe[0],je=oe[1],le=Object(n.useState)(!1),be=Object(j.a)(le,2),pe=be[0],de=be[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(b.a,{type:"text",id:"pkgname",labelText:"Package Name*",placeholder:"Package Name",size:"lg",value:i,onChange:function(e){return a(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{labelText:"Choose File*",size:"lg",value:M,onChange:function(e){W(e.target.value)},children:J.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.name},t)}))}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",onClick:function(){Q(!0),function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s,c,r,u,j,l,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={"content-type":"application/json",accept:"application/json",Authorization:k},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/nodes",{headers:t});case 5:return i=e.sent,e.next=8,i.json();case 8:return n=e.sent,e.next=11,i;case 11:if(401!==e.sent.status){e.next=17;break}P(!0),Q(!1),e.next=40;break;case 17:return a=n[0].url.toString(),s=a.lastIndexOf(":"),a=a.substring(0,s),t={accept:"application/json",Authorization:k},e.next=23,fetch("https://api.ibmaspera.com/api/v1/admin/workspaces",{headers:t});case 23:return i=e.sent,e.next=26,i.json();case 26:return n=e.sent,c=n[0].home_file_id.toString(),r=a.concat("/files/").concat(c).concat("/files"),t={"X-Aspera-AccessKey":"yV11oXofeLzQtApD2syjjfqT",Authorization:"Bearer eJwlkFmTmkAAhN/5GbxujMw4nFU+sHIpglwqmEptwXKIx3AMCLqV/x42ee3ur7uqv+ieZO1HmdISjRgOQpb+QZPPqs4mAVdp9vN5AKAKqzzbvtxOrhVInpdL3gTSNyjFt9sE9P2/AoB4noELfoaQmM4QzMAsThJxthAXSBCBsIDxd33VFjEuX3FXVvj/MsdBFk1ONtZlm5GPuJtEyEAwA8wMCAEQJIaVIDxNmaKt+nrCCC39oiHgGSDQv/9Qy6W/1m052HvqcklpSCEIikzu1sixV/nzPRY3gc4pscAOc64JzfsYEkBOkdJ9xkccBJzGHCKjevSYwnzS4CM5vyx2KGRWSzs2uEAHuNee2zlwM1psGZ3fo81cvz9Uc/UIyuu6PTe6V2aUdpsTRp+zm5cHeF/senGXHEo+jpJCC9NkWNtKOcj60d2InW1H+7vYgDC2lKtVn6lS0WWSdOkKHB5YM5EtjFUaai8/vDxsu/I0tJU53je0N7J1hj5qQsG5GmN1GU8+9SDYU9WBNTdj3hHTEXp3rpr7DL/QwQ3GXeFXueP3bV9kRiguHEtXrAyXxjN8mtSTYXyiCjdLD29+OUart6E1cLBT8Y4wrigXrqe3RdPXw/TuX7Izskc="},e.next=32,fetch("".concat(r),{headers:t});case 32:return i=e.sent,e.next=35,i.json();case 35:return n=e.sent,e.next=38,i;case 38:if(200===e.sent.status){for(u=[{id:"",name:"Choose File"}],j=0;j<n.length;j++)(l={}).id=n[j].name,l.name=n[j].name,u.push(l);S(u),Q(!1)}else de(!0),Q(!1);case 40:e.next=49;break;case 42:return e.next=44,fetch("/getfiles");case 44:return b=e.sent,e.next=47,b.json();case 47:"failure"===(p=e.sent).result?(de(!0),Q(!1)):(S(p.result),Q(!1));case 49:e.next=55;break;case 51:e.prev=51,e.t0=e.catch(0),Q(!1),ie(!0);case 55:case"end":return e.stop()}}),e,null,[[0,51]])})));return function(){return e.apply(this,arguments)}}()()},children:" List Files "})}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{labelText:"Choose Recipient*",size:"lg",value:r,onChange:function(e){l(e.target.value)},children:A.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.value},t)}))}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",onClick:function(){Q(!0),function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s,c,r,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:k},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/users",{headers:t});case 5:return i=e.sent,e.next=8,i.json();case 8:return n=e.sent,e.next=11,i;case 11:if(200===(a=e.sent).status){for(s=[{id:"",value:"Choose User"}],c=0;c<n.length;c++)(r={}).id=n[c].id,r.value=n[c].email,s.push(r);X(s),Q(!1)}else 401===a.status?(P(!0),Q(!1)):(de(!0),Q(!1));e.next=22;break;case 15:return e.next=17,fetch("/getusers");case 17:return u=e.sent,e.next=20,u.json();case 20:"failure"===(j=e.sent).result?(de(!0),Q(!1)):(X(j.result),Q(!1));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),Q(!1),ie(!0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}()()},children:" List Users "})}),Object(O.jsx)("div",{className:"PButtonArea",Style:"padding-top: 16px;",children:Object(O.jsx)(p.a,{type:"submit",onClick:function(){(Q(!0),i&&r&&M&&""!==i.trim())?function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,s,c,u,j,b,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={Authorization:k},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/workspaces",{headers:t});case 5:return n=e.sent,e.next=8,n.json();case 8:return s=e.sent,c=s[0].id,t={"content-type":"application/json",accept:"application/json",Authorization:N},u={recipients:[{id:r,type:"user"}],upload_notification_recipients:[],download_notification_recipients:[],bcc_recipients:[],file_names:[M],name:i,workspace_id:c,encryption_at_rest:!1,single_source:!0,read:!0,transfers_expected:1},e.next=14,fetch("https://api.ibmaspera.com/api/v1/packages",{method:"POST",body:JSON.stringify(u),json:!0,headers:t});case 14:return n=e.sent,e.next=17,n.json();case 17:return s=e.sent,j=s.id,b={sent:!0,transfers_expected:1},t={"content-type":"application/json",accept:"application/json",Authorization:N},e.next=23,fetch("https://api.ibmaspera.com/api/v1/packages/".concat(j),{method:"PUT",body:JSON.stringify(b),json:!0,headers:t});case 23:return n=e.sent,e.next=26,n;case 26:204===(s=e.sent).status?(H(!0),a(""),l(""),W(""),X([]),S([]),Q(!1)):401===s.status?(P(!0),Q(!1)):(ce(!0),a(""),l(""),W(""),X([]),S([]),Q(!1)),e.next=37;break;case 30:return e.next=32,fetch("/sendpackages?pkgname="+i+"&filepkg="+M+"&userid="+r);case 32:return p=e.sent,e.next=35,p.json();case 35:"success"===e.sent.result?(H(!0),a(""),l(""),W(""),X([]),S([]),Q(!1)):(ce(!0),a(""),l(""),W(""),X([]),S([]),Q(!1));case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(0),ie(!0),Q(!1);case 43:case"end":return e.stop()}}),e,null,[[0,39]])})));return function(){return e.apply(this,arguments)}}()():(je(!0),Q(!1))},children:" Send Package "})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:"Existing Packages"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{labelText:"View Packages",size:"lg",value:v,onChange:function(e){C(e.target.value)},children:T.map((function(e,t){return Object(O.jsx)(I.a,{value:e.id,text:e.value},t)}))}),Object(O.jsx)("div",{className:"TButtonArea",children:Object(O.jsx)(p.a,{kind:"tertiary",type:"submit",onClick:function(){Q(!0),function(){var e=Object(u.a)(o.a.mark((function e(){var t,i,n,a,s,c,r,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={accept:"application/json",Authorization:k},e.next=5,fetch("https://api.ibmaspera.com/api/v1/admin/packages?package_sent=true&deleted=false&include_draft=false&received=true",{headers:t});case 5:return i=e.sent,e.next=8,i.json();case 8:return n=e.sent,e.next=11,i;case 11:if(200===(a=e.sent).status){for(s=[],c=0;c<n.length;c++)(r={}).id=n[c].id,r.value=n[c].name,s.push(r);E(s),Q(!1)}else 401===a.status?(P(!0),Q(!1)):(de(!0),Q(!1));e.next=22;break;case 15:return e.next=17,fetch("/getpackages");case 17:return u=e.sent,e.next=20,u.json();case 20:"failure"===(j=e.sent).result?(de(!0),Q(!1)):(E(j.result),Q(!1));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),Q(!1),ie(!0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}}()()},children:" List Packages "})}),Object(O.jsx)(d.a,{active:V,description:"Active loading indicator",withOverlay:!0}),B&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Package sent successfully"}),timeout:4e3,onClose:function(){H(!1)},kind:"success",title:"Success Notification"}),q&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Unauthorised credentials. Restart to refresh your tokens"}),timeout:3e3,onClose:function(){P(!1)},title:"Error Notification"}),te&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){ie(!1)},title:"Error Notification"}),se&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Package could not be sent"}),timeout:3e3,onClose:function(){ce(!1)},title:"Error Notification"}),ue&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Invalid inputs provided. Specify package name, file and recipient"}),timeout:3e3,onClose:function(){je(!1)},title:"Error Notification"}),pe&&Object(O.jsx)(h.a,{iconDescription:"Close notification",subtitle:Object(O.jsx)("span",{children:"Operation cannot be done"}),timeout:3e3,onClose:function(){de(!1)},title:"Error Notification"})]})};var w=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(c.Header,{"aria-label":"IBM",children:Object(O.jsx)(c.HeaderName,{prefix:"",href:"#",children:Object(O.jsx)("div",{Style:"white-space: nowrap;",children:"Aspera on Cloud Sample Application"})})}),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("div",{className:"AppContent",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("h2",{children:"Workspace Details"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(f,{}),Object(O.jsx)("h2",{children:"Membership Details"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(C,{}),Object(O.jsx)("h2",{children:"Workspace Packages"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(y,{})]})})]})};i(97),i(98);s.a.render(Object(O.jsx)(w,{}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.90ea8b66.chunk.js.map