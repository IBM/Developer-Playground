(this["webpackJsonphere-public-transit-app"]=this["webpackJsonphere-public-transit-app"]||[]).push([[0],{130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(39),c=n.n(i),r=(n(83),n(147)),o=n(142),s=n(66),l=n(24),d=n.n(l),u=n(23),m=n(28),b=n(17),j=n(137),p=n(144),h=n(146),O=n(145),v=n(138),f=n(143),g=n(61),x=n(59),y=n(62),E=n(64),T=n(63),S=n(60),L=n(36),w=n(14);var C=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)("A valid value is required"),C=Object(b.a)(l,2),A=C[0],M=C[1],B=Object(a.useState)(!1),I=Object(b.a)(B,2),P=I[0],N=I[1],_=Object(a.useState)({}),R=Object(b.a)(_,2),H=R[0],D=R[1],k=Object(a.useState)(!1),z=Object(b.a)(k,2),F=z[0],G=z[1],W=Object(a.useState)(!1),K=Object(b.a)(W,2),V=K[0],U=K[1],q=Object(a.useState)(!1),$=Object(b.a)(q,2),J=$[0],Y=$[1],Z=Object(a.useState)(!1),Q=Object(b.a)(Z,2),X=Q[0],ee=Q[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){(e.preventDefault(),G(!0),n)?(function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,i,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=16;break}return console.log("Mode is : DEV"),"",t={Authorization:""},e.next=7,fetch("https://geocode.search.hereapi.com/v1/geocode?q=".concat(n),{headers:t});case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,D(Object(u.a)({},i)),G(!1),"[]"===JSON.stringify(i.items)&&(ee(!0),D({})),e.next=26;break;case 16:return console.log("not dev mode"),e.next=19,fetch("/addrgeocode?queryst=".concat(n));case 19:return c=e.sent,e.next=22,c.json();case 22:r=e.sent,D(Object(u.a)({},r)),G(!1),"[]"===JSON.stringify(r.items)&&(ee(!0),D({}));case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),Y(!0),G(!1);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}()(),i("")):(U(!0),G(!1))},children:[Object(w.jsx)(p.a,{type:"text",id:"location",labelText:"Location*",invalid:o,invalidText:A,helperText:"Input values only in alphabets - City/Town/Street.",placeholder:"Location",size:"lg",value:n,onChange:function(e){e.target.value.match(/^[a-zA-Z]+$/)?(s(!1),N(!1)):(s(!0),M("Only letters allowed. No special characters or numbers"),N(!0)),i(e.target.value)}}),Object(w.jsx)("div",{className:"ButtonArea",children:Object(w.jsx)(h.a,{type:"submit",disabled:P,children:" Get Area Co-ordinates "})})]}),V&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Location input is empty. Please fill a valid Location"}),timeout:3e3,onClose:function(){U(!1)},title:"Error Notification"}),J&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){Y(!1)},title:"Error Notification"}),X&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"No results available"}),timeout:3e3,onClose:function(){ee(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:F,description:"Active loading indicator",withOverlay:!0}),H.items&&Object(w.jsx)("div",{className:"TableDisplay",children:H.items&&Object(w.jsx)(f.a,{rows:H.items,headers:[{key:"name",header:"Name"},{key:"address",header:"Address"},{key:"location",header:"Location"}],children:function(e){e.rows;var t=e.headers,n=e.getHeaderProps;return Object(w.jsx)(g.a,{title:"Location Results",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(E.a,{children:t.map((function(e){return Object(w.jsx)(T.a,Object(u.a)(Object(u.a)({},n({header:e})),{},{children:e.header}))}))})}),Object(w.jsx)(S.a,{children:H.items&&H.items.map((function(e,t){return Object(w.jsxs)(E.a,{children:[Object(w.jsx)(L.a,{children:e.title}),Object(w.jsx)(L.a,{children:e.address.label}),Object(w.jsx)(L.a,{children:e.position.lat+","+e.position.lng})]},t)}))})]})})}})})]})};var A=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)({}),C=Object(b.a)(l,2),A=C[0],M=C[1],B=Object(a.useState)(!1),I=Object(b.a)(B,2),P=I[0],N=I[1],_=Object(a.useState)("A valid value is required"),R=Object(b.a)(_,2),H=R[0],D=R[1],k=Object(a.useState)(!1),z=Object(b.a)(k,2),F=z[0],G=z[1],W=Object(a.useState)(!1),K=Object(b.a)(W,2),V=K[0],U=K[1],q=Object(a.useState)(!1),$=Object(b.a)(q,2),J=$[0],Y=$[1],Z=Object(a.useState)(!1),Q=Object(b.a)(Z,2),X=Q[0],ee=Q[1],te=Object(a.useState)(!1),ne=Object(b.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(a.useState)(!1),re=Object(b.a)(ce,2),oe=re[0],se=re[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){if(e.preventDefault(),N(!0),n&&o){var t=n.concat(",").concat(o);(function(){var e=Object(m.a)(d.a.mark((function e(){var n,a,i,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=16;break}return console.log("Mode is : DEV"),"",n={Authorization:""},e.next=7,fetch("https://revgeocode.search.hereapi.com/v1/revgeocode?at=".concat(t),{headers:n});case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,M(Object(u.a)({},i)),N(!1),"[]"===JSON.stringify(i.items)&&(ee(!0),M({})),e.next=25;break;case 16:return e.next=18,fetch("/revaddrgeocode?location=".concat(t));case 18:return c=e.sent,e.next=21,c.json();case 21:r=e.sent,M(Object(u.a)({},r)),N(!1),"[]"===JSON.stringify(r.items)&&(ee(!0),M({}));case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(0),Y(!0),N(!1);case 31:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(){return e.apply(this,arguments)}})()(),i(""),s("")}else U(!0),N(!1)},children:[Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"latitude",labelText:"Latitude*",invalid:ae,invalidText:H,helperText:"Add valid co-ordinates.",placeholder:"Latitude",size:"lg",value:n,onChange:function(e){e.target.value.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?){2}$/)?(ie(!1),G(!1)):(ie(!0),D("Only valid co-ordinates allowed. No characters"),G(!0)),i(e.target.value)}})}),Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"longitude",labelText:"Longitude*",invalid:oe,invalidText:H,helperText:"Add valid co-ordinates.",placeholder:"Longitude",size:"lg",value:o,onChange:function(e){e.target.value.match(/^\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?){2}$/)?(se(!1),G(!1)):(se(!0),D("Only valid co-ordinates allowed. No characters"),G(!0)),s(e.target.value)}})}),Object(w.jsx)("div",{className:"ButtonArea",children:Object(w.jsx)(h.a,{type:"submit",disabled:F,children:" Get Places Near You "})})]}),V&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Latitude, Longitude values cannot be empty"}),timeout:3e3,onClose:function(){U(!1)},title:"Error Notification"}),J&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){Y(!1)},title:"Error Notification"}),X&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"No results available"}),timeout:3e3,onClose:function(){ee(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:P,description:"Active loading indicator",withOverlay:!0}),A.items&&Object(w.jsx)("div",{className:"TableDisplay",children:A.items&&Object(w.jsx)(f.a,{rows:A.items,headers:[{key:"name",header:"Name"},{key:"address",header:"Address"},{key:"location",header:"Location"}],children:function(e){e.rows;var t=e.headers,n=e.getHeaderProps;return Object(w.jsx)(g.a,{title:"Location Results",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(E.a,{children:t.map((function(e){return Object(w.jsx)(T.a,Object(u.a)(Object(u.a)({},n({header:e})),{},{children:e.header}))}))})}),Object(w.jsx)(S.a,{children:A.items&&A.items.map((function(e,t){return Object(w.jsxs)(E.a,{children:[Object(w.jsx)(L.a,{children:e.title}),Object(w.jsx)(L.a,{children:e.address.label}),Object(w.jsx)(L.a,{children:e.position.lat+","+e.position.lng})]},t)}))})]})})}})})]})};var M=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)(!1),C=Object(b.a)(l,2),A=C[0],M=C[1],B=Object(a.useState)({}),I=Object(b.a)(B,2),P=I[0],N=I[1],_=Object(a.useState)("A valid value is required"),R=Object(b.a)(_,2),H=R[0],D=R[1],k=Object(a.useState)(!1),z=Object(b.a)(k,2),F=z[0],G=z[1],W=Object(a.useState)(!1),K=Object(b.a)(W,2),V=K[0],U=K[1],q=Object(a.useState)(!1),$=Object(b.a)(q,2),J=$[0],Y=$[1],Z=Object(a.useState)(!1),Q=Object(b.a)(Z,2),X=Q[0],ee=Q[1],te=Object(a.useState)(!1),ne=Object(b.a)(te,2),ae=ne[0],ie=ne[1],ce=Object(a.useState)(!1),re=Object(b.a)(ce,2),oe=re[0],se=re[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){if(e.preventDefault(),M(!0),n&&o){var t=n.concat(",").concat(o);(function(){var e=Object(m.a)(d.a.mark((function e(){var n,a,i,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=16;break}return console.log("Mode is : DEV"),"",n={Authorization:""},e.next=7,fetch("https://transit.hereapi.com/v8/stations?in=".concat(t),{headers:n});case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,N(Object(u.a)({},i)),M(!1),"[]"===JSON.stringify(i.stations)&&(ee(!0),N({})),e.next=26;break;case 16:return console.log("not dev mode"),e.next=19,fetch("/getstations?location=".concat(t));case 19:return c=e.sent,e.next=22,c.json();case 22:r=e.sent,N(Object(u.a)({},r)),M(!1),"[]"===JSON.stringify(r.stations)&&(ee(!0),N({}));case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),Y(!0),M(!1);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}})()(),i(""),s("")}else U(!0),M(!1)},children:[Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"latitude",labelText:"Latitude*",invalid:ae,invalidText:H,helperText:"Add valid co-ordinates.",placeholder:"Latitude",size:"lg",value:n,onChange:function(e){e.target.value.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?){2}$/)?(ie(!1),G(!1)):(ie(!0),D("Only valid co-ordinates allowed. No characters"),G(!0)),i(e.target.value)}})}),Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"longitude",labelText:"Longitude*",invalid:oe,invalidText:H,helperText:"Add valid co-ordinates.",placeholder:"Longitude",size:"lg",value:o,onChange:function(e){e.target.value.match(/^\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?){2}$/)?(se(!1),G(!1)):(se(!0),D("Only valid co-ordinates allowed. No characters"),G(!0)),s(e.target.value)}})}),Object(w.jsx)("div",{className:"ButtonArea",children:Object(w.jsx)(h.a,{type:"submit",disabled:F,children:" Get Transit Stations "})})]}),V&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Latitude, Longitude values cannot be empty"}),timeout:3e3,onClose:function(){U(!1)},title:"Error Notification"}),J&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){Y(!1)},title:"Error Notification"}),X&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Stations not found"}),timeout:3e3,onClose:function(){ee(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:A,description:"Active loading indicator",withOverlay:!0}),P.stations&&Object(w.jsx)("div",{className:"TableDisplay",children:P.stations&&Object(w.jsx)(f.a,{rows:P.stations,headers:[{key:"id",header:"Id"},{key:"name",header:"Name"},{key:"location",header:"Location"}],children:function(e){e.rows;var t=e.headers,n=e.getHeaderProps;return Object(w.jsx)(g.a,{title:"Public Transit Results",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(E.a,{children:t.map((function(e){return Object(w.jsx)(T.a,Object(u.a)(Object(u.a)({},n({header:e})),{},{children:e.header}))}))})}),Object(w.jsx)(S.a,{children:P.stations&&P.stations.map((function(e,t){return Object(w.jsxs)(E.a,{children:[Object(w.jsx)(L.a,{children:e.place.id}),Object(w.jsx)(L.a,{children:e.place.name}),Object(w.jsx)(L.a,{children:e.place.location.lat+","+e.place.location.lng})]},t)}))})]})})}})})]})},B=n(139);var I=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)({}),C=Object(b.a)(l,2),A=C[0],M=C[1],I=Object(a.useState)({}),P=Object(b.a)(I,2),N=P[0],_=P[1],R=Object(a.useState)(!1),H=Object(b.a)(R,2),D=H[0],k=H[1],z=Object(a.useState)("A valid value is required"),F=Object(b.a)(z,2),G=F[0],W=F[1],K=Object(a.useState)(!1),V=Object(b.a)(K,2),U=V[0],q=V[1],$=Object(a.useState)("A valid value is required"),J=Object(b.a)($,2),Y=J[0],Z=J[1],Q=Object(a.useState)(!1),X=Object(b.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)(!1),ae=Object(b.a)(ne,2),ie=ae[0],ce=ae[1],re=Object(a.useState)(!1),oe=Object(b.a)(re,2),se=oe[0],le=oe[1],de=Object(a.useState)(!1),ue=Object(b.a)(de,2),me=ue[0],be=ue[1],je=Object(a.useState)(!1),pe=Object(b.a)(je,2),he=pe[0],Oe=pe[1],ve=Object(a.useState)(!1),fe=Object(b.a)(ve,2),ge=fe[0],xe=fe[1],ye=function(e){_(A.boards[e].departures),ce(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){(e.preventDefault(),ce(!0),n&&o)?(function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,i,c,r,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=24;break}return console.log("Mode is : DEV"),"",t={Authorization:""},e.next=7,fetch("https://geocode.search.hereapi.com/v1/geocode?q=".concat(n),{headers:t});case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,c=[i.items[0].position.lat.toString(),i.items[0].position.lng.toString()].toString().concat(";r=").concat(o),e.next=14,fetch("https://transit.hereapi.com/v8/departures?in=".concat(c),{headers:t});case 14:return a=e.sent,e.next=17,a.json();case 17:i=e.sent,M(Object(u.a)({},i)),ce(!1),"[]"===JSON.stringify(i.boards)&&(Oe(!0),M({})),i.hasOwnProperty("title")&&(xe(!0),M({})),e.next=42;break;case 24:return console.log("not dev mode"),e.next=27,fetch("/addrgeocode?queryst=".concat(n));case 27:return r=e.sent,e.next=30,r.json();case 30:return s=e.sent,l=[s.items[0].position.lat.toString(),s.items[0].position.lng.toString()].toString().concat(";r=").concat(o),e.next=34,fetch("/getdepartures?location=".concat(l));case 34:return r=e.sent,e.next=37,r.json();case 37:s=e.sent,M(Object(u.a)({},s)),ce(!1),"[]"===JSON.stringify(s.boards)&&(Oe(!0),M({})),s.hasOwnProperty("title")&&(xe(!0),M({}));case 42:e.next=48;break;case 44:e.prev=44,e.t0=e.catch(0),be(!0),ce(!1);case 48:case"end":return e.stop()}}),e,null,[[0,44]])})));return function(){return e.apply(this,arguments)}}()(),i(""),s("")):(le(!0),ce(!1))},children:[Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"location",labelText:"Location*",invalid:D,invalidText:G,helperText:"Input values only in alphabets - City/Town/Street.",placeholder:"Location",size:"lg",value:n,onChange:function(e){e.target.value.match(/^[a-zA-Z]+$/)?(k(!1),te(!1)):(k(!0),W("Only letters allowed. No special characters or numbers"),te(!0)),i(e.target.value)}})}),Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"radius",labelText:"Radius in metres*",invalid:U,invalidText:Y,placeholder:"Radius",helperText:"Input value in numbers.",size:"lg",value:o,onChange:function(e){e.target.value.match(/^[0-9]*$/)?(q(!1),te(!1)):(q(!0),Z("Only numbers allowed. No special characters or letters"),te(!0)),s(e.target.value)}})}),Object(w.jsx)("div",{className:"ButtonArea",children:Object(w.jsx)(h.a,{type:"submit",disabled:ee,children:" Get Places Near You "})})]}),se&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Location, Radius values should not be empty"}),timeout:3e3,onClose:function(){le(!1)},title:"Error Notification"}),me&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Server cannot be reached"}),timeout:3e3,onClose:function(){be(!1)},title:"Error Notification"}),he&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"No Departures Found"}),timeout:3e3,onClose:function(){Oe(!1)},title:"Error Notification"}),ge&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Invalid input. Radius must be in range of 0-999999999 metres"}),timeout:3e3,onClose:function(){xe(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:ie,description:"Active loading indicator",withOverlay:!0}),A.boards&&Object(w.jsxs)("div",{className:"TableDisplay",children:[A.boards&&Object(w.jsx)(f.a,{rows:A.boards,headers:[{key:"name",header:"Name"},{key:"location",header:"Location"},{key:"listing",header:""}],children:function(e){e.rows;var t=e.headers,n=e.getHeaderProps;return Object(w.jsx)(g.a,{title:"Public Transit Results",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(E.a,{children:t.map((function(e){return Object(w.jsx)(T.a,Object(u.a)(Object(u.a)({},n({header:e})),{},{children:e.header}))}))})}),Object(w.jsx)(S.a,{children:A.boards&&A.boards.map((function(e,t){return Object(w.jsxs)(E.a,{children:[Object(w.jsx)(L.a,{children:e.place.name}),Object(w.jsx)(L.a,{children:e.place.location.lat+","+e.place.location.lng}),Object(w.jsx)(L.a,{children:Object(w.jsx)(B.a,{onClick:function(){return e=t,ce(!0),void ye(e);var e},children:"List Destinations"})})]},t)}))})]})})}}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),N[0]&&Object(w.jsx)(f.a,{rows:N,headers:[{key:"departure time",header:"Departure Time"},{key:"departure transport",header:"Mode of Transport"},{key:"departure point",header:"Destination"}],children:function(e){e.rows;var t=e.headers,n=e.getHeaderProps;return Object(w.jsx)(g.a,{title:"Destination Results",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)(y.a,{children:Object(w.jsx)(E.a,{children:t.map((function(e){return Object(w.jsx)(T.a,Object(u.a)(Object(u.a)({},n({header:e})),{},{children:e.header}))}))})}),Object(w.jsx)(S.a,{children:N&&N.map((function(e,t){return Object(w.jsxs)(E.a,{children:[Object(w.jsx)(L.a,{children:e.time}),Object(w.jsx)(L.a,{children:(n=e.transport.mode,n[0].toUpperCase()+n.substring(1).toLowerCase())}),Object(w.jsx)(L.a,{children:e.transport.headsign})]},t);var n}))})]})})}})]})]})},P=n(140),N=n(141),_=n(18);n(68);var R=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(b.a)(l,2),f=u[0],g=u[1],x=Object(a.useState)("A valid value is required"),y=Object(b.a)(x,2),E=y[0],T=y[1],S=Object(a.useState)(!1),L=Object(b.a)(S,2),C=L[0],A=L[1],M=Object(a.useState)("A valid value is required"),B=Object(b.a)(M,2),I=B[0],R=B[1],H=Object(a.useState)(!1),D=Object(b.a)(H,2),k=D[0],z=D[1],F=Object(a.useState)(!1),G=Object(b.a)(F,2),W=G[0],K=G[1],V=Object(a.useState)(!1),U=Object(b.a)(V,2),q=U[0],$=U[1],J=Object(a.useState)(!1),Y=Object(b.a)(J,2),Z=Y[0],Q=Y[1],X=Object(a.useState)(!1),ee=Object(b.a)(X,2),te=ee[0],ne=ee[1],ae=[{id:"car",value:"Drive a Car"},{id:"pedestrian",value:"Let me Walk"},{id:"pubtransport",value:"Use Public Transport"}],ie=Object(a.useState)(ae[0].id),ce=Object(b.a)(ie,2),re=ce[0],oe=ce[1],se=Object(a.useState)(""),le=Object(b.a)(se,2),de=le[0],ue=le[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){if(e.preventDefault(),K(!0),ue("Route"),n&&o){var t=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,i,c,r,s,l,u,m,b,j,p,h,O,v,f,g,x,y,E,T,S,L,w,C,A,M,B;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=5;break}t="",e.next=12;break;case 5:return e.next=7,fetch("/getapikey");case 7:return a=e.sent,e.next=10,a.json();case 10:i=e.sent,t=i.apikey;case 12:"pubtransport"===re?(c=function(e){var t=e.getPublicTransitService(),a={origin:n,destination:o,return:"polyline,actions,travelSummary"};t.getRoutes(a,r,s)},r=function(e){var t=e.routes[0];u(t),m(t),j(t),b(t)},s=function(e){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML="",ne(!0)},l=function(e,t){x?(x.setPosition(e),x.setContent(t),x.open()):(x=new _.a.ui.InfoBubble(e,{content:t}),g.addBubble(x))},u=function(e){try{var t=new _.a.map.Group;e.sections.forEach((function(e){t.addObject(new _.a.map.Polyline(_.a.geo.LineString.fromFlexiblePolyline(e.polyline),{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}}))})),f.addObject(t),f.getViewModel().setLookAtData({bounds:t.getBoundingBox()})}catch(n){document.getElementById("map").innerHTML="",Q(!0)}},m=function(e){try{var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1"  /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;if(c)for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}})),a.addEventListener("tap",(function(e){f.setCenter(e.target.getGeometry()),l(e.target.getGeometry(),e.target.instruction)}),!1),f.addObject(a)}catch(i){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML=""}},b=function(e){try{var t=0,n=0;e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="";i+="<b>Total distance</b>: "+n+"m. <br/>",i+="<b>Travel Time</b>: "+t.toMMSS(),a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,h.appendChild(a)}catch(c){document.getElementById("panel").innerHTML=""}},j=function(e){try{var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions",e.sections.forEach((function(e){e.actions&&e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),h.appendChild(t)}catch(n){document.getElementById("panel").innerHTML=""}},document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML="",p=document.getElementById("map"),h=document.getElementById("panel"),O=new _.a.service.Platform({apikey:t}),v=O.createDefaultLayers(),f=new _.a.Map(p,v.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return f.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(f)),g=_.a.ui.UI.createDefault(f,v),Number.prototype.toMMSS=function(){return Math.floor(this/60)+" minutes "+this%60+" seconds."},setTimeout((function(){return K(!1)}),5e3),c(O)):(y=function(e){var t=e.getRoutingService(null,8),a={routingMode:"fast",transportMode:re,origin:n,destination:o,return:"polyline,turnByTurnActions,actions,instructions,travelSummary"};t.calculateRoute(a,E,T)},E=function(e){var t=e.routes[0];L(t),w(t),C(t),M(t),A(t)},T=function(e){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML="",ne(!0)},S=function(e,t){x?(x.setPosition(e),x.setContent(t),x.open()):(x=new _.a.ui.InfoBubble(e,{content:t}),g.addBubble(x))},L=function(e){try{e.sections.forEach((function(e){var t=_.a.geo.LineString.fromFlexiblePolyline(e.polyline),n=new _.a.map.Polyline(t,{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}});f.addObject(n),f.getViewModel().setLookAtData({bounds:n.getBoundingBox()})}))}catch(t){Q(!0),document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML=""}},w=function(e){var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1" /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;try{e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}a.addEventListener("tap",(function(e){f.setCenter(e.target.getGeometry()),S(e.target.getGeometry(),e.target.instruction)}),!1),f.addObject(a)}))}catch(i){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML=""}},C=function(e){try{var t=document.createElement("h3"),n=[];e.sections.forEach((function(e){n.push(e.turnByTurnActions[0].nextRoad.name[0].value),n.push(e.turnByTurnActions[e.turnByTurnActions.length-1].currentRoad.name[0].value)})),t.textContent=n.join(" - "),h.innerHTML="",h.appendChild(t)}catch(a){document.getElementById("panel").innerHTML=""}},A=function(e){var t=0,n=0;try{e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="<b>Total distance</b>: "+n+"m. <br /><b>Travel Time</b>: "+B(t)+" (in current traffic)";a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,h.appendChild(a)}catch(c){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML=""}},M=function(e){var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions";try{e.sections.forEach((function(e){e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),h.appendChild(t)}catch(n){document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML="",console.log("Results unavailable")}},B=function(e){return Math.floor(e/60)+" minutes "+e%60+" seconds."},document.getElementById("map").innerHTML="",document.getElementById("panel").innerHTML="",p=document.getElementById("map"),h=document.getElementById("panel"),O=new _.a.service.Platform({apikey:t}),v=O.createDefaultLayers(),f=new _.a.Map(p,v.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return f.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(f)),g=_.a.ui.UI.createDefault(f,v),setTimeout((function(){return K(!1)}),5e3),y(O)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),K(!1),Q(!0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();setTimeout(t,2e3),i(""),s("")}else K(!1),$(!0)},children:[Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"fromcoord",labelText:"From*",placeholder:"From Co-ordinates",invalid:f,invalidText:E,size:"lg",value:n,onChange:function(e){e.target.value.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?){2}$/)?(g(!1),z(!1)):(g(!0),T("Only valid co-ordinates allowed. No characters"),z(!0)),i(e.target.value)}})}),Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"tocoord",labelText:"To*",placeholder:"To Co-ordinates",invalid:C,invalidText:I,size:"lg",value:o,onChange:function(e){e.target.value.match(/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?){2}$/)?(A(!1),z(!1)):(A(!0),R("Only valid co-ordinates allowed. No characters"),z(!0)),s(e.target.value)}})}),Object(w.jsx)(P.a,{labelText:"Mode of Transport*",value:re,onChange:function(e){oe(e.target.value)},children:ae.map((function(e,t){return Object(w.jsx)(N.a,{value:e.id,text:e.value},t)}))}),Object(w.jsx)("div",{className:"ButtonAreamap",children:Object(w.jsx)(h.a,{type:"submit",disabled:k,children:" Get my Route "})})]}),q&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Latitude, Longitude values for the From and To locations should not be empty"}),timeout:3e3,onClose:function(){$(!1)},title:"Error Notification"}),Z&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Results unavailable"}),timeout:3e3,onClose:function(){Q(!1)},title:"Error Notification"}),te&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Cannot reach remote server"}),timeout:3e3,onClose:function(){ne(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:W,description:"Active loading indicator",withOverlay:!0}),Object(w.jsx)("br",{}),de&&Object(w.jsxs)("div",{id:"route-display",children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{id:"map"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{id:"panel"})]})]})};var H=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(b.a)(c,2),o=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(b.a)(l,2),f=u[0],g=u[1],x=Object(a.useState)("A valid value is required"),y=Object(b.a)(x,2),E=y[0],T=y[1],S=Object(a.useState)(!1),L=Object(b.a)(S,2),C=L[0],A=L[1],M=Object(a.useState)("A valid value is required"),B=Object(b.a)(M,2),I=B[0],R=B[1],H=Object(a.useState)(!1),D=Object(b.a)(H,2),k=D[0],z=D[1],F=Object(a.useState)(!1),G=Object(b.a)(F,2),W=G[0],K=G[1],V=Object(a.useState)(!1),U=Object(b.a)(V,2),q=U[0],$=U[1],J=Object(a.useState)(!1),Y=Object(b.a)(J,2),Z=Y[0],Q=Y[1],X=Object(a.useState)(!1),ee=Object(b.a)(X,2),te=ee[0],ne=ee[1],ae=[{id:"car",value:"Drive a Car"},{id:"pedestrian",value:"Let me Walk"},{id:"pubtransport",value:"Use Public Transport"}],ie=Object(a.useState)(ae[0].id),ce=Object(b.a)(ie,2),re=ce[0],oe=ce[1],se=Object(a.useState)(""),le=Object(b.a)(se,2),de=le[0],ue=le[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(j.a,{onSubmit:function(e){if(e.preventDefault(),K(!0),ue("Route"),n&&o){var t=function(){var e=Object(m.a)(d.a.mark((function e(){var t,a,i,c,r,s,l,u,m,b,j,p,h,O,v,f,g,x,y,E,T,S,L,w,C,A,M,B,I,P,N,R,H,D,k,z,F,G,W,V,U,q,$,J,Y,Z,X,ee,te,ae,ie,ce,oe;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"dev"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLIENT_ID:"",REACT_APP_CLIENT_SECRET:"",REACT_APP_APIKEY:""}).REACT_APP_mode){e.next=23;break}return t="","",u={Authorization:""},e.next=7,fetch("https://geocode.search.hereapi.com/v1/geocode?q=".concat(n),{headers:u});case 7:return a=e.sent,e.next=10,a.json();case 10:return i=e.sent,c=[i.items[0].position.lat.toString(),i.items[0].position.lng.toString()].toString(),e.next=14,fetch("https://geocode.search.hereapi.com/v1/geocode?q=".concat(o),{headers:u});case 14:return r=e.sent,e.next=17,r.json();case 17:s=e.sent,l=[s.items[0].position.lat.toString(),s.items[0].position.lng.toString()].toString(),console.log("Dev mode: ",t,c,l),"pubtransport"===re?(m=function(e){var t=e.getPublicTransitService(),n={origin:c,destination:l,return:"polyline,actions,travelSummary"};t.getRoutes(n,b,j)},b=function(e){var t=e.routes[0];h(t),O(t),f(t),v(t)},j=function(e){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",ne(!0)},p=function(e,t){L?(L.setPosition(e),L.setContent(t),L.open()):(L=new _.a.ui.InfoBubble(e,{content:t}),S.addBubble(L))},h=function(e){try{var t=new _.a.map.Group;e.sections.forEach((function(e){t.addObject(new _.a.map.Polyline(_.a.geo.LineString.fromFlexiblePolyline(e.polyline),{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}}))})),T.addObject(t),T.getViewModel().setLookAtData({bounds:t.getBoundingBox()})}catch(n){document.getElementById("map2").innerHTML="",Q(!0)}},O=function(e){try{var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1"  /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;if(c)for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}})),a.addEventListener("tap",(function(e){T.setCenter(e.target.getGeometry()),p(e.target.getGeometry(),e.target.instruction)}),!1),T.addObject(a)}catch(i){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},v=function(e){try{var t=0,n=0;e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="";i+="<b>Total distance</b>: "+n+"m. <br/>",i+="<b>Travel Time</b>: "+t.toMMSS(),a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,x.appendChild(a)}catch(c){document.getElementById("panel2").innerHTML=""}},f=function(e){try{var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions",e.sections.forEach((function(e){e.actions&&e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),x.appendChild(t)}catch(n){document.getElementById("panel2").innerHTML=""}},document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",g=document.getElementById("map2"),x=document.getElementById("panel2"),y=new _.a.service.Platform({apikey:t}),E=y.createDefaultLayers(),T=new _.a.Map(g,E.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return T.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(T)),S=_.a.ui.UI.createDefault(T,E),Number.prototype.toMMSS=function(){return Math.floor(this/60)+" minutes "+this%60+" seconds."},setTimeout((function(){return K(!1)}),5e3),m(y)):(w=function(e){var t=e.getRoutingService(null,8),n={routingMode:"fast",transportMode:re,origin:c,destination:l,return:"polyline,turnByTurnActions,actions,instructions,travelSummary"};t.calculateRoute(n,C,A)},C=function(e){var t=e.routes[0];B(t),I(t),P(t),R(t),N(t)},A=function(e){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",ne(!0)},M=function(e,t){L?(L.setPosition(e),L.setContent(t),L.open()):(L=new _.a.ui.InfoBubble(e,{content:t}),S.addBubble(L))},B=function(e){try{e.sections.forEach((function(e){var t=_.a.geo.LineString.fromFlexiblePolyline(e.polyline),n=new _.a.map.Polyline(t,{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}});T.addObject(n),T.getViewModel().setLookAtData({bounds:n.getBoundingBox()})}))}catch(t){Q(!0),document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},I=function(e){var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1" /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;try{e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}a.addEventListener("tap",(function(e){T.setCenter(e.target.getGeometry()),M(e.target.getGeometry(),e.target.instruction)}),!1),T.addObject(a)}))}catch(i){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},P=function(e){try{var t=document.createElement("h3"),n=[];e.sections.forEach((function(e){n.push(e.turnByTurnActions[0].nextRoad.name[0].value),n.push(e.turnByTurnActions[e.turnByTurnActions.length-1].currentRoad.name[0].value)})),t.textContent=n.join(" - "),x.innerHTML="",x.appendChild(t)}catch(a){document.getElementById("panel2").innerHTML=""}},N=function(e){var t=0,n=0;try{e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="<b>Total distance</b>: "+n+"m. <br /><b>Travel Time</b>: "+H(t)+" (in current traffic)";a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,x.appendChild(a)}catch(c){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},R=function(e){var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions";try{e.sections.forEach((function(e){e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),x.appendChild(t)}catch(n){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",console.log("Results unavailable")}},H=function(e){return Math.floor(e/60)+" minutes "+e%60+" seconds."},document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",g=document.getElementById("map2"),x=document.getElementById("panel2"),y=new _.a.service.Platform({apikey:t}),E=y.createDefaultLayers(),T=new _.a.Map(g,E.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return T.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(T)),S=_.a.ui.UI.createDefault(T,E),setTimeout((function(){return K(!1)}),5e3),w(y)),e.next=46;break;case 23:return e.next=25,fetch("/getapikey");case 25:return D=e.sent,e.next=28,D.json();case 28:return k=e.sent,t=k.apikey,e.next=32,fetch("/addrgeocode?queryst=".concat(n));case 32:return a=e.sent,e.next=35,a.json();case 35:return i=e.sent,c=[i.items[0].position.lat.toString(),i.items[0].position.lng.toString()].toString(),e.next=39,fetch("/addrgeocode?queryst=".concat(o));case 39:return r=e.sent,e.next=42,r.json();case 42:s=e.sent,l=[s.items[0].position.lat.toString(),s.items[0].position.lng.toString()].toString(),console.log(" Non dev mode: ",t,c,l),"pubtransport"===re?(z=function(e){var t=e.getPublicTransitService(),n={origin:c,destination:l,return:"polyline,actions,travelSummary"};t.getRoutes(n,F,G)},F=function(e){var t=e.routes[0];V(t),U(t),$(t),q(t)},G=function(e){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",ne(!0)},W=function(e,t){L?(L.setPosition(e),L.setContent(t),L.open()):(L=new _.a.ui.InfoBubble(e,{content:t}),S.addBubble(L))},V=function(e){try{var t=new _.a.map.Group;e.sections.forEach((function(e){t.addObject(new _.a.map.Polyline(_.a.geo.LineString.fromFlexiblePolyline(e.polyline),{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}}))})),T.addObject(t),T.getViewModel().setLookAtData({bounds:t.getBoundingBox()})}catch(n){document.getElementById("map2").innerHTML="",Q(!0)}},U=function(e){try{var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1"  /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;if(c)for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}})),a.addEventListener("tap",(function(e){T.setCenter(e.target.getGeometry()),W(e.target.getGeometry(),e.target.instruction)}),!1),T.addObject(a)}catch(i){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},q=function(e){try{var t=0,n=0;e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="";i+="<b>Total distance</b>: "+n+"m. <br/>",i+="<b>Travel Time</b>: "+t.toMMSS(),a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,x.appendChild(a)}catch(c){document.getElementById("panel2").innerHTML=""}},$=function(e){try{var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions",e.sections.forEach((function(e){e.actions&&e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),x.appendChild(t)}catch(n){document.getElementById("panel2").innerHTML=""}},document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",g=document.getElementById("map2"),x=document.getElementById("panel2"),y=new _.a.service.Platform({apikey:t}),E=y.createDefaultLayers(),T=new _.a.Map(g,E.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return T.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(T)),S=_.a.ui.UI.createDefault(T,E),Number.prototype.toMMSS=function(){return Math.floor(this/60)+" minutes "+this%60+" seconds."},setTimeout((function(){return K(!1)}),5e3),z(y)):(J=function(e){var t=e.getRoutingService(null,8),n={routingMode:"fast",transportMode:re,origin:c,destination:l,return:"polyline,turnByTurnActions,actions,instructions,travelSummary"};t.calculateRoute(n,Y,Z)},Y=function(e){var t=e.routes[0];ee(t),te(t),ae(t),ce(t),ie(t)},Z=function(e){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",ne(!0)},X=function(e,t){L?(L.setPosition(e),L.setContent(t),L.open()):(L=new _.a.ui.InfoBubble(e,{content:t}),S.addBubble(L))},ee=function(e){try{e.sections.forEach((function(e){var t=_.a.geo.LineString.fromFlexiblePolyline(e.polyline),n=new _.a.map.Polyline(t,{style:{lineWidth:4,strokeColor:"rgba(0, 128, 255, 0.7)"}});T.addObject(n),T.getViewModel().setLookAtData({bounds:n.getBoundingBox()})}))}catch(t){Q(!0),document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},te=function(e){var t,n=new _.a.map.Icon('<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#1b468d" stroke="white" stroke-width="1" /></svg>',{anchor:{x:8,y:8}}),a=new _.a.map.Group;try{e.sections.forEach((function(e){var i=_.a.geo.LineString.fromFlexiblePolyline(e.polyline).getLatLngAltArray(),c=e.actions;for(t=0;t<c.length;t+=1){var r=c[t],o=new _.a.map.Marker({lat:i[3*r.offset],lng:i[3*r.offset+1]},{icon:n});o.instruction=r.instruction,a.addObject(o)}a.addEventListener("tap",(function(e){T.setCenter(e.target.getGeometry()),X(e.target.getGeometry(),e.target.instruction)}),!1),T.addObject(a)}))}catch(i){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},ae=function(e){try{var t=document.createElement("h3"),n=[];e.sections.forEach((function(e){n.push(e.turnByTurnActions[0].nextRoad.name[0].value),n.push(e.turnByTurnActions[e.turnByTurnActions.length-1].currentRoad.name[0].value)})),t.textContent=n.join(" - "),x.innerHTML="",x.appendChild(t)}catch(a){document.getElementById("panel2").innerHTML=""}},ie=function(e){var t=0,n=0;try{e.sections.forEach((function(e){n+=e.travelSummary.length,t+=e.travelSummary.duration}));var a=document.createElement("div"),i="<b>Total distance</b>: "+n+"m. <br /><b>Travel Time</b>: "+oe(t)+" (in current traffic)";a.style.fontSize="small",a.style.marginLeft="5%",a.style.marginRight="5%",a.innerHTML=i,x.appendChild(a)}catch(c){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML=""}},ce=function(e){var t=document.createElement("ol");t.style.fontSize="small",t.style.marginLeft="5%",t.style.marginRight="5%",t.className="directions";try{e.sections.forEach((function(e){e.actions.forEach((function(n,a){var i=document.createElement("li"),c=document.createElement("span"),r=document.createElement("span");c.className="arrow "+(n.direction||"")+n.action,r.innerHTML=e.actions[a].instruction,i.appendChild(c),i.appendChild(r),t.appendChild(i)}))})),x.appendChild(t)}catch(n){document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",console.log("Results unavailable")}},oe=function(e){return Math.floor(e/60)+" minutes "+e%60+" seconds."},document.getElementById("map2").innerHTML="",document.getElementById("panel2").innerHTML="",g=document.getElementById("map2"),x=document.getElementById("panel2"),y=new _.a.service.Platform({apikey:t}),E=y.createDefaultLayers(),T=new _.a.Map(g,E.vector.normal.map,{center:{lat:52.516,lng:13.3779},zoom:13,pixelRatio:window.devicePixelRatio||1}),window.addEventListener("resize",(function(){return T.getViewPort().resize()})),new _.a.mapevents.Behavior(new _.a.mapevents.MapEvents(T)),S=_.a.ui.UI.createDefault(T,E),setTimeout((function(){return K(!1)}),5e3),J(y));case 46:e.next=52;break;case 48:e.prev=48,e.t0=e.catch(0),K(!1),Q(!0);case 52:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(){return e.apply(this,arguments)}}();setTimeout(t,2e3),i(""),s("")}else $(!0),K(!1)},children:[Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"fromloc",labelText:"From*",invalid:f,invalidText:E,placeholder:"From",size:"lg",value:n,onChange:function(e){e.target.value.match(/^[a-zA-Z]+$/)?(g(!1),z(!1)):(g(!0),T("Only letters allowed. No special characters or numbers"),z(!0)),i(e.target.value)}})}),Object(w.jsx)("div",{className:"TextArea",children:Object(w.jsx)(p.a,{id:"toloc",labelText:"To*",invalid:C,invalidText:I,placeholder:"To",size:"lg",value:o,onChange:function(e){e.target.value.match(/^[a-zA-Z]+$/)?(A(!1),z(!1)):(A(!0),R("Only letters allowed. No special characters or numbers"),z(!0)),s(e.target.value)}})}),Object(w.jsx)(P.a,{labelText:"Mode of Transport*",value:re,onChange:function(e){oe(e.target.value)},children:ae.map((function(e,t){return Object(w.jsx)(N.a,{value:e.id,text:e.value},t)}))}),Object(w.jsx)("div",{className:"ButtonAreamap",children:Object(w.jsx)(h.a,{type:"submit",disabled:k,children:" Get my Route "})})]}),q&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"From and To locations should not be empty"}),timeout:3e3,onClose:function(){$(!1)},title:"Error Notification"}),Z&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Results unavailable"}),timeout:3e3,onClose:function(){Q(!1)},title:"Error Notification"}),te&&Object(w.jsx)(O.a,{iconDescription:"Close notification",subtitle:Object(w.jsx)("span",{children:"Cannot reach remote server"}),timeout:3e3,onClose:function(){ne(!1)},title:"Error Notification"}),Object(w.jsx)(v.a,{active:W,description:"Active loading indicator",withOverlay:!0}),Object(w.jsx)("br",{}),de&&Object(w.jsxs)("div",{id:"route-display2",children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{id:"map2"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{id:"panel2"})]})]})};var D=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(s.Header,{"aria-label":"IBM",children:Object(w.jsx)(s.HeaderName,{prefix:"",href:"#",children:Object(w.jsx)("div",{Style:"white-space: nowrap;",children:"HERE Public Transit Sample Application"})})}),Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)("div",{className:"AppContent",children:[Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsx)("h2",{children:"Location Details"}),Object(w.jsxs)(r.a,{type:"container",children:[Object(w.jsx)(o.a,{id:"tab-g1",label:"Get Co-ordinates",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(C,{})})}),Object(w.jsx)(o.a,{id:"tab-g2",label:"Get Area",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(A,{})})})]}),Object(w.jsx)("h2",{children:"Public Transit Services"}),Object(w.jsxs)(r.a,{type:"container",children:[Object(w.jsx)(o.a,{id:"tab-s1",label:"Transit Stations",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(M,{})})}),Object(w.jsx)(o.a,{id:"tab-s2",label:"Next Departures",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(I,{})})})]}),Object(w.jsx)("h2",{children:" Route Services "}),Object(w.jsxs)(r.a,{type:"container",children:[Object(w.jsx)(o.a,{id:"tab-t1",label:"By Co-ordinates",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(R,{})})}),Object(w.jsx)(o.a,{id:"tab-t2",label:"By Area",children:Object(w.jsx)("div",{className:"TabArea",children:Object(w.jsx)(H,{})})})]}),Object(w.jsx)("br",{})]})})]})};n(130),n(131);c.a.render(Object(w.jsx)(D,{}),document.getElementById("root"))},83:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.886d4bc0.chunk.js.map