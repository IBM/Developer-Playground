(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{181:function(e,t,a){},399:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(80),c=a.n(i),s=a(32),o=a.n(s),r=a(51),l=a(16),u=a(418),d=a(402),b=a(419),j=a(420),p=a(421),m=a(423),h=a(425),x=a(415),O=a(408),f=a(409),v=a(413),g=a(200),y=a(201),w=a(91),S=a(88),_=a(204),k=a(9),D=function(e){var t=e.data,a=e.lines,n=e.showAnomaly,i=e.time,c=function(e){var t=e.cx,a=e.cy,n=(e.stroke,e.payload);e.value;return n.anomaly?Object(k.jsx)("svg",{x:t-10,y:a-10,width:20,height:20,fill:"red",viewBox:"0 0 1024 1024",children:Object(k.jsx)("path",{d:"M517.12 53.248q95.232 0 179.2 36.352t145.92 98.304 98.304 145.92 36.352 179.2-36.352 179.2-98.304 145.92-145.92 98.304-179.2 36.352-179.2-36.352-145.92-98.304-98.304-145.92-36.352-179.2 36.352-179.2 98.304-145.92 145.92-98.304 179.2-36.352zM663.552 261.12q-15.36 0-28.16 6.656t-23.04 18.432-15.872 27.648-5.632 33.28q0 35.84 21.504 61.44t51.2 25.6 51.2-25.6 21.504-61.44q0-17.408-5.632-33.28t-15.872-27.648-23.04-18.432-28.16-6.656zM373.76 261.12q-29.696 0-50.688 25.088t-20.992 60.928 20.992 61.44 50.688 25.6 50.176-25.6 20.48-61.44-20.48-60.928-50.176-25.088zM520.192 602.112q-51.2 0-97.28 9.728t-82.944 27.648-62.464 41.472-35.84 51.2q-1.024 1.024-1.024 2.048-1.024 3.072-1.024 8.704t2.56 11.776 7.168 11.264 12.8 6.144q25.6-27.648 62.464-50.176 31.744-19.456 79.36-35.328t114.176-15.872q67.584 0 116.736 15.872t81.92 35.328q37.888 22.528 63.488 50.176 17.408-5.12 19.968-18.944t0.512-18.944-3.072-7.168-1.024-3.072q-26.624-55.296-100.352-88.576t-176.128-33.28z"})}):null};return Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"chart-result",children:"Results"}),Object(k.jsx)(O.a,{className:"chart-area",width:"100%",height:400,children:Object(k.jsxs)(f.a,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(k.jsx)(v.a,{strokeDasharray:"3 3"}),Object(k.jsx)(g.a,{dataKey:i,domain:["dataMin","dataMax"]}),Object(k.jsx)(y.a,{}),Object(k.jsx)(w.a,{}),Object(k.jsx)(S.a,{}),a.map((function(e){var t=e.line,a=e.color;return Object(k.jsx)(_.a,{type:"monotone",dataKey:t,stroke:a,dot:n?Object(k.jsx)(c,{}):null})}))]})})]})},T=a(135),A=a(74),N=a.n(A),I=(a(181),a(205)),M=a(37),C=a(414),E=a(424),z=["uuid","name","filesize","status","iconDescription","invalid"],P=0;function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return P++,"".concat(e).concat(P)}var R=!0,V=function(e){var t=e.accept,a=e.sendDataToParent,i=Object(n.useState)([]),c=Object(l.a)(i,2),s=c[0],u=c[1],d=function(e){console.log(e);var t=e.split(".");return"csv"===t[t.length-1]?5e6:1e7},b=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("file to upload: "+JSON.stringify(t)),!(t.filesize<=d(t.name))){e.next=5;break}R=!0,e.next=9;break;case 5:return R=!1,a=Object(M.a)(Object(M.a)({},t),{},{status:"edit",iconDescription:"Delete file",invalid:!0,errorSubject:"File size exceeds limit",errorBody:"Max file size is ".concat("csv"===t.name.split(".")[t.name.split(".").length-1]?5:10,"MB. Select a new file and try again.")}),u((function(e){return e.map((function(e){return e.uuid===t.uuid?a:e}))})),e.abrupt("return");case 9:if(console.log(t),!t.invalidFileType){e.next=17;break}return R=!1,n=Object(M.a)(Object(M.a)({},t),{},{status:"edit",iconDescription:"Delete file",invalid:!0,errorSubject:"Invalid file type",errorBody:'"'.concat(t.name,'" does not have a valid file type.')}),u((function(e){return e.map((function(e){return e.uuid===t.uuid?n:e}))})),e.abrupt("return");case 17:R=!0;case 18:return e.prev=18,e.next=21,fetch("https://www.mocky.io/v2/5185415ba171ea3a00704eed?mocky-delay=1000ms",{method:"POST",mode:"cors",body:t});case 21:if(e.sent.ok){e.next=24;break}throw new Error("Network response was not ok");case 24:i=Object(M.a)(Object(M.a)({},t),{},{status:"complete",iconDescription:"Upload complete"}),u((function(e){return e.map((function(e){return e.uuid===t.uuid?i:e}))})),setTimeout((function(){var e=Object(M.a)(Object(M.a)({},t),{},{status:"edit",iconDescription:"Remove file"});u((function(a){return a.map((function(a){return a.uuid===t.uuid?e:a}))}))}),1e3),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(18),R=!1,c=Object(M.a)(Object(M.a)({},t),{},{status:"edit",iconDescription:"Upload failed",invalid:!0}),u((function(e){return e.map((function(e){return e.uuid===t.uuid?c:e}))}));case 34:case"end":return e.stop()}}),e,null,[[18,29]])})));return function(t){return e.apply(this,arguments)}}(),j=Object(n.useCallback)((function(e,t){var a=t.uuid;return u(s.filter((function(e){var t=e.uuid;return a!==t})))}),[s]);return Object(k.jsxs)("div",{class:"bx--form-item",children:[Object(k.jsx)("strong",{class:"bx--file--label",children:"Upload File"}),Object(k.jsx)("p",{class:"bx--label-description",children:"Max file size is 10MB for .json and 5MB for .csv. Supported file types are .json and .csv."}),Object(k.jsx)(C.a,{labelText:"Drag and drop here or click to upload",onAddFiles:function(e,t){var n=t.addedFiles;e.stopPropagation();var i=n.map((function(e){return{uuid:q(),name:e.name,filesize:e.size,status:"uploading",iconDescription:"Uploading"}}));if(n[0]&&(u([i[0]]),b(i[0]),R)){var c=new FormData;c.append("file",n[0]),a(c)}},accept:t}),Object(k.jsx)("div",{className:"uploaded-files",style:{width:"100%"},children:s.map((function(e){var t=e.uuid,a=e.name,n=e.filesize,i=e.status,c=e.iconDescription,s=e.invalid,o=Object(I.a)(e,z);return Object(k.jsx)(E.a,Object(M.a)({uuid:t,name:a,filesize:n,size:"lg",status:i,iconDescription:c,invalid:s,onDelete:j},o),q())}))})]})},B=a(416),F=a(417),L=function(e){var t=e.jobId,a=e.getChartResults,i=Object(n.useState)(!1),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(n.useState)({state:!1,text:""}),b=Object(l.a)(d,2),j=b[0],p=b[1],O=Object(n.useState)(!1),f=Object(l.a)(O,2),v=f[0],g=f[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),S=w[0],_=w[1],D=function(){var e=Object(r.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==t.target.job_text.value.trim()){e.next=5;break}p({state:!0,text:"Please enter a Job ID"}),e.next=13;break;case 5:return u(!0),e.next=8,N.a.get("/result?jobid=".concat(t.target.job_text.value));case 8:n=e.sent,g(!0),_(t.target.job_text.value),a(n.data),u(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(B.a,{className:"fetch-results",onSubmit:D,children:[Object(k.jsx)("h3",{children:"Fetch Processed Results "}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(m.a,{name:"job_text",size:"lg",labelText:"Fetch Results",helperText:"Save this Job ID for futher use",placeholder:"Job ID",invalid:j.state,invalidText:j.text,defaultValue:t,onChange:function(){p({state:!1,text:""}),g(!1)}}),Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{children:[Object(k.jsx)(h.a,{kind:"tertiary",type:"submit",children:"Fetch Results"}),v?Object(k.jsx)(h.a,{type:"submit",style:{marginLeft:"14px"},onClick:function(e){e.preventDefault(),window.open("/download?jobid=".concat(S))},children:" Download Results "}):null]}),Object(k.jsx)(x.a,{active:s,overlay:!0})]})},J={WindowAD:["IsolationForest","NearestNeighbor","SyntheticRandomForestTrainer","MinCovDet","AnomalyEnsembler"],ReconstructAD:["Covariance","GMM_L0","GMM_L1","MachineTranslation"],RelationshipAD:["IDD_AutoEncoder","Seq2seq_AutoEncoder","CNNAutoEncoder","GAN"]};var U=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),O=s[0],f=s[1],v=Object(n.useState)(!1),g=Object(l.a)(v,2),y=g[0],w=g[1],S=Object(n.useState)(!1),_=Object(l.a)(S,2),A=_[0],I=_[1],M=Object(n.useState)(!1),C=Object(l.a)(M,2),E=C[0],z=C[1],P=Object(n.useState)([]),q=Object(l.a)(P,2),R=q[0],B=q[1],F=Object(n.useState)(!1),U=Object(l.a)(F,2),W=U[0],G=U[1],H=Object(n.useState)(!1),K=Object(l.a)(H,2),Q=K[0],X=K[1],Y=Object(n.useState)(!1),Z=Object(l.a)(Y,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(l.a)(te,2),ne=ae[0],ie=ae[1],ce=Object(n.useState)([]),se=Object(l.a)(ce,2),oe=se[0],re=se[1],le=Object(n.useState)(!1),ue=Object(l.a)(le,2),de=ue[0],be=ue[1],je=Object(n.useState)([]),pe=Object(l.a)(je,2),me=pe[0],he=pe[1],xe=Object(n.useState)(!1),Oe=Object(l.a)(xe,2),fe=Oe[0],ve=Oe[1],ge=Object(n.useState)(""),ye=Object(l.a)(ge,2),we=ye[0],Se=ye[1],_e=Object(n.useState)([]),ke=Object(l.a)(_e,2),De=ke[0],Te=ke[1],Ae=Object(n.useState)(""),Ne=Object(l.a)(Ae,2),Ie=Ne[0],Me=Ne[1],Ce=Object(n.useState)({state:!1,text:""}),Ee=Object(l.a)(Ce,2),ze=Ee[0],Pe=Ee[1],qe=Object(n.useState)({state:!1,text:""}),Re=Object(l.a)(qe,2),Ve=Re[0],Be=Re[1],Fe=Object(n.useState)({state:!1,text:""}),Le=Object(l.a)(Fe,2),Je=Le[0],Ue=Le[1],We=Object(n.useState)({state:!1,text:""}),Ge=Object(l.a)(We,2),He=Ge[0],Ke=Ge[1],Qe=function(){Pe({state:!1,text:""}),Be({state:!1,text:""}),Ue({state:!1,text:""}),Ke({state:!1,text:""}),he([]),I(!1),ve(!1),f([])},Xe=function(){var e=Object(r.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(),t.append("name",Math.random().toString(36).substring(2,13)),console.log(t.entries()),e.next=5,N.a.post("/upload",t,{});case 5:a=e.sent,i(a.data),ve(!0),he(Object.keys(a.data[0])),G(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,c,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(),e.next=3,N.a.get("/sampledata");case 3:a=e.sent,i(a.data),I(!0),ve(!1),n=Object.keys(a.data[0]).slice(1),c=[],n.forEach((function(e){c.push({line:e,color:"#".concat(Math.floor(16777215*Math.random()).toString(16))})})),f(c),z(!1),s=Object.keys(a.data[0]).slice(1),console.log(s,Object.keys(a.data[0])),r=[],s.forEach((function(e){r.push({name:e})})),B(r),G(!0),1===r.length?X(!1):X(!0),w(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(t),(a={}).dataset_type=t.target.dataset_type.value,1===R.length?a.target_column=R[0].name:a.target_column=oe,a.prediction_type=document.getElementById("prediction_type").innerText.toLowerCase(),a.algorithm_type=document.getElementById("algorithm_type").innerText,console.log("DeepAD"===a.algorithm_type),"DeepAD"!==a.algorithm_type&&"PredAD"!==a.algorithm_type?a.anomaly_estimator=document.getElementById("anomaly_estimator").innerText:a.anomaly_estimator="Default",a.lookback_window=document.getElementById("lookback_window").innerText.toLowerCase(),"custom"===a.lookback_window&&(a.lookback_window=parseInt(t.target.lookback_window_custom_value.value)),a.observation_window=parseInt(t.target.observation_window.value),a.labeling_method=document.getElementById("labeling_method").innerText,a.labeling_threshold=parseInt(t.target.labeling_threshold.value),a.time_column=we,console.log(a),n=!0,typeof a.target_column===Array&&0===a.target_column.length&&(Pe({state:!0,text:"Please select some options"}),n=!1),"auto"!==a.lookback_window&&(isNaN(a.lookback_window)||a.lookback_window>50||a.lookback_window<1||!Number.isInteger(a.lookback_window))&&(Be({state:!0,text:"Please enter an integer between 1 and 50"}),n=!1),(isNaN(a.observation_window)||a.observation_window<1||!Number.isInteger(a.observation_window))&&(Ue({state:!0,text:"Please enter an integer > 0"}),n=!1),(isNaN(a.labeling_threshold)||a.labeling_threshold<1||!Number.isInteger(a.labeling_threshold))&&(Ke({state:!0,text:"Please enter an integer > 0"}),n=!1),console.log(n),!n){e.next=29;break}return be(!0),e.next=26,N.a.post("/detect",JSON.stringify(a),{headers:{"content-type":"application/json"}});case 26:i=e.sent,be(!1),Me(i.data);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"app",children:[Object(k.jsx)(T.Header,{"aria-label":"IBM",children:Object(k.jsx)(T.HeaderName,{href:"#",prefix:"",children:Object(k.jsx)("div",{style:{whiteSpace:"nowrap"},children:"Anomaly Detection Sample Application"})})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"app-header",children:Object(k.jsx)("h2",{children:"Anomaly Detection"})}),Object(k.jsxs)("form",{id:"form-data",onSubmit:Ze,children:[Object(k.jsx)("div",{className:"app-content",children:Object(k.jsxs)(u.a,{legendText:"Choose the type of Dataset",name:"dataset_type",children:[Object(k.jsx)(d.a,{labelText:"Upload your Dataset",value:"customdt",id:"customdt",onClick:function(){z(!0),I(!1),G(!1)}}),Object(k.jsx)(d.a,{labelText:"Use Sample Dataset",value:"sampledt",id:"sampledt",onClick:Ye})]})}),E?Object(k.jsx)(V,{accept:".json, .csv",sendDataToParent:Xe}):null,fe?Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"others",children:"Time Column"}),Object(k.jsx)(b.a,{id:"time_column",titleText:"Select Value",label:"Choose an Option",items:me,onChange:function(e){var t=e.selectedItem,a=me.indexOf(t),n=[],i=[];me.forEach((function(e,t){if(t!==a){n.push({name:e});for(var c="#".concat(Math.floor(16777215*Math.random()).toString(16));"#ffffff"===c;)c="#".concat(Math.floor(16777215*Math.random()).toString(16));i.push({line:e,color:c})}})),B(n),I(!0),f(i),G(!0),2===me.length?X(!1):X(!0),w(!1),Se(t)}})," "]}):null,A?Object(k.jsx)(D,{data:a,lines:O,showAnomaly:y,time:we}):null,W?Object(k.jsxs)(j.a,{children:[Q?Object(k.jsxs)("div",{children:[Object(k.jsx)("p",{className:"target",children:"Target Parameters"}),Object(k.jsx)(p.a,{id:"target_columns",titleText:"Select Value",label:"Select Options",items:R,itemToString:function(e){return e?e.name:""},onChange:function(e){var t=e.selectedItems;re(t),Pe({state:!1,text:""})},invalid:ze.state,invalidText:ze.text})," "]}):null,Object(k.jsx)("p",{className:"others",children:"Prediction Type"}),Object(k.jsx)(b.a,{id:"prediction_type",titleText:"Select Value",label:"Choose an Option",initialSelectedItem:"Entire",items:["Enitre","Recent"]}),Object(k.jsx)("p",{className:"others",children:"Algorithm Type"}),Object(k.jsx)(b.a,{id:"algorithm_type",titleText:"Select Value",label:"Select Options",items:["DeepAD","WindowAD","PredAD","ReconstructAD","RelationshipAD"],initialSelectedItem:"DeepAD",onChange:function(e){var t=e.selectedItem;ee(!1),setTimeout((function(){"DeepAD"!==t&&"PredAD"!==t?(Te(J[t]),ee(!0)):ee(!1)}),1)}}),$?Object(k.jsx)("div",{className:"hidden-options",children:Object(k.jsx)(b.a,{id:"anomaly_estimator",titleText:"Select Value",label:"Select Options",initialSelectedItem:De[0],items:De})}):null,Object(k.jsx)("p",{className:"others",children:"Loopback Window"}),Object(k.jsx)(b.a,{id:"lookback_window",titleText:"Select Value",items:["Auto","Custom"],initialSelectedItem:"Auto",onChange:function(e){var t=e.selectedItem;ie("Custom"===t)}}),ne?Object(k.jsx)("div",{className:"hidden-options",children:Object(k.jsx)(m.a,{name:"lookback_window_custom_value",type:"number",labelText:"Add Value",helperText:"Add numbers (Max.50)",defaultValue:"10",invalid:Ve.state,invalidText:Ve.text,onChange:function(){return Be({state:!1,text:""})}})}):null,Object(k.jsx)("p",{className:"others",children:"Observation Window"}),Object(k.jsx)(m.a,{name:"observation_window",type:"number",labelText:"Add Value",helperText:"Add numbers (10% of data-size)",defaultValue:"10",invalid:Je.state,invalidText:Je.text,onChange:function(){return Ue({state:!1,text:""})}}),Object(k.jsx)("p",{className:"others",children:"Labeling Method"}),Object(k.jsx)(b.a,{id:"labeling_method",titleText:"Select Value",label:"Select Options",items:["Chi-Square","IID","Q-Score","Sliding-Window","Adaptive-Sliding-Window","Contextual-Anomaly"],initialSelectedItem:"IID"}),Object(k.jsx)("p",{className:"others",children:"Labelling Threshold"}),Object(k.jsx)(m.a,{name:"labeling_threshold",type:"number",labelText:"Add Value",helperText:"Add numbers",defaultValue:"10",invalid:He.state,invalidText:He.text,onChange:function(){return Ke({state:!1,text:""})}}),Object(k.jsxs)("div",{className:"hidden-options",children:[Object(k.jsx)(h.a,{type:"submit",children:"Submit"}),Object(k.jsx)(x.a,{active:de,overlay:!0})]})]}):null]}),Object(k.jsx)("br",{}),Object(k.jsx)(L,{jobId:Ie,getChartResults:function(e){i(e);var t=Object.keys(e[0]).slice(1),a=[];t.forEach((function(e){"anomaly"!==e&&a.push({line:e,color:"#".concat(Math.floor(16777215*Math.random()).toString(16))})})),f(a),w(!0),I(!0),G(!1)}})]})};a(399),a(400);c.a.render(Object(k.jsx)(U,{}),document.getElementById("root"))}},[[401,1,2]]]);
//# sourceMappingURL=main.d6022c3b.chunk.js.map