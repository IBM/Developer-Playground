{"version":3,"file":"model-pie.js","sourceRoot":"","sources":["model-pie.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,mBAAmB;AACnB,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AAErC;qEACqE;AACrE;IAAmC,iCAAU;IAC5C,uBAAY,QAAa;eACxB,kBAAM,QAAQ,CAAC;IAChB,CAAC;IAED,sCAAc,GAAd,UAAe,IAAI;QAClB,IAAM,WAAW,GAAG,iBAAM,cAAc,YAAC,IAAI,CAAC,CAAC;QAE/C,4CAA4C;QAC5C,wFAAwF;QACxF,IAAI,IAAI,KAAK,WAAW,EAAE;YACzB,uEAAuE;YACvE,WAAW,CAAC,OAAO,CAAC,UAAC,CAAC;gBACrB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,KAAK,EAAE;oBAC/B,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC;iBAChB;YACF,CAAC,CAAC,CAAC;SACH;QAED,OAAO,WAAW,CAAC;IACpB,CAAC;IAED,gCAAQ,GAAR,UAAS,IAAI;QACZ,IAAM,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAE9C,2BAA2B;QAC3B,OAAO,WAAW,CAAC,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,EAAjB,CAAiB,CAAC,CAAC;IACtD,CAAC;IACF,oBAAC;AAAD,CAAC,AA5BD,CAAmC,UAAU,GA4B5C","sourcesContent":["// Internal Imports\nimport { ChartModel } from './model';\n\n/** The charting model layer which includes mainly the chart data and options,\n * as well as some misc. information to be shared among components */\nexport class PieChartModel extends ChartModel {\n\tconstructor(services: any) {\n\t\tsuper(services);\n\t}\n\n\tgetTabularData(data) {\n\t\tconst tabularData = super.getTabularData(data);\n\n\t\t// if the data was changed to tabular format\n\t\t// update the group to the key so the slices render with the correct tooltips and colors\n\t\tif (data !== tabularData) {\n\t\t\t// If a label was set for the overall dataset, reassign it to key value\n\t\t\ttabularData.forEach((d) => {\n\t\t\t\tif (d.key && d.key !== d.group) {\n\t\t\t\t\td.group = d.key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn tabularData;\n\t}\n\n\tsanitize(data) {\n\t\tconst tabularData = this.getTabularData(data);\n\n\t\t// Sort data based on value\n\t\treturn tabularData.sort((a, b) => b.value - a.value);\n\t}\n}\n"]}