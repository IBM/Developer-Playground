<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>IBM - Watson Assistant Demo</title>
  <base href="/">
  <meta name="author" content="Gurvinder Singh">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <!--  Social tags      -->
  <meta name="description" content="This application shows the capabilities of Watson Assistant and Discovery services to work together to find answers on a given query.">
  <meta name="keywords" content="IBM, IBM Cloud, Cognitive, Watson, Watson Assistant, Watson Discovery, Cloudant NoSQL Database, Angular, Loopback, API Connect">
  <!-- Schema.org markup for Google+ -->
  <meta itemprop="name" content="IBM Watson Assistant Demo">
  <meta itemprop="description" content="This application shows the capabilities of Watson Assistant and Discovery services to work together to find answers on a given query.">


  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" media="all" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" media="all" />
  <link href="assets/assets-for-app/vertical-nav.css" rel="stylesheet" />

  <script src="assets/env.js"></script>

  <script src="https://web-chat.global.assistant.watson.appdomain.cloud/loadWatsonAssistantChat.js"></script>
  <script>

    const options = {
      integrationID: '48ac0886-dd9c-4a08-b09d-7ef9515e15ef',
      region: 'us-south',
      carbonTheme: 'g90'
    };

    window.loadWatsonAssistantChat(options).then(function(instance) {

      // Instance method to adjust specific CSS variables
      instance.updateCSSVariables({
        'BASE-font-family': '"Times New Roman", Times, serif',
        '$focus': 'lime',
        '$hover-primary': 'lime',
        '$interactive-01': 'blue'
      });

      const customLanguagePack = {
        "input_placeholder": "Skriv Noget for at starte samtalen"
      };
      instance.updateLanguagePack(customLanguagePack);

      // Your handler
      function handler(obj) {
        console.log(obj.type, obj.data);
      }
      console.log('instance', instance);

      // console.log out details of any "receive" event
      instance.on({ type: "receive", handler: handler });
      // console.log out details of any "send" event
      instance.on({ type: "send", handler: handler });

      // 30 seconds later, unsubscribe from listening to "send" events
      setTimeout(function(){
        instance.off({ type: "send", handler: handler});
      }, 30000);

      // Actually render the Web Chat.
      instance.render();
    });

  </script>

  <!-- <script>
    var global = global || window;
    var Buffer = Buffer || [];
    var process = process || {
      env: { DEBUG: undefined },
      version: []
    };
  </script> -->

</head>

<body class="profile-page">
  <app-root></app-root>
</body>

</html>
